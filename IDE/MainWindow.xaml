<Window x:Class="OSDevIDE.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="OS Dev IDE" Height="900" Width="1400"
        Background="#FF1E1E1E"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        AllowsTransparency="False">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="35" 
                      ResizeBorderThickness="5" 
                      GlassFrameThickness="0"
                      CornerRadius="0"
                      UseAeroCaptionButtons="False"
                      NonClientFrameEdges="None"/>
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <SolidColorBrush x:Key="VSCBackground" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="VSCSideBarBg" Color="#252526"/>
        <SolidColorBrush x:Key="VSCActivityBarBg" Color="#333333"/>
        <SolidColorBrush x:Key="VSCStatusBarBg" Color="#007ACC"/>
        <SolidColorBrush x:Key="VSCForeground" Color="#CCCCCC"/>
        <SolidColorBrush x:Key="VSCLineNumber" Color="#858585"/>
        <SolidColorBrush x:Key="HeaderBg" Color="#2D2D30"/>

        <BooleanToVisibilityConverter x:Key="BoolToVis"/>

        <!-- Dark ScrollBar Style -->
        <Style x:Key="DarkScrollBar" TargetType="{x:Type ScrollBar}">
            <Setter Property="Background" Value="#1E1E1E"/>
            <Setter Property="Foreground" Value="#3E3E42"/>
            <Setter Property="Width" Value="14"/>
            <Setter Property="MinWidth" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid>
                            <Border Background="#1E1E1E"/>
                            <Track x:Name="PART_Track" IsDirectionReversed="True">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Border x:Name="ThumbBorder" Background="#424242" CornerRadius="7" Margin="2"/>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="ThumbBorder" Property="Background" Value="#4E4E4E"/>
                                                                </Trigger>
                                                                <Trigger Property="IsDragging" Value="True">
                                                                    <Setter TargetName="ThumbBorder" Property="Background" Value="#5A5A5A"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DarkScrollViewer" TargetType="ScrollViewer">
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollViewer">
                        <Grid>
                            <ScrollContentPresenter/>
                            <ScrollBar x:Name="PART_VerticalScrollBar" 
                                       Style="{StaticResource DarkScrollBar}"
                                       HorizontalAlignment="Right"
                                       Value="{TemplateBinding VerticalOffset}"
                                       Maximum="{TemplateBinding ScrollableHeight}"
                                       ViewportSize="{TemplateBinding ViewportHeight}"
                                       Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Smooth button style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                Padding="{TemplateBinding Padding}" CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#505050"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="RunButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                Padding="{TemplateBinding Padding}" CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#16825D"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0E6345"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <DockPanel Background="{StaticResource VSCBackground}">
        <!-- Custom Title Bar -->
        <Border DockPanel.Dock="Top" Height="35" Background="#2D2D30" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0">
                    <materialDesign:PackIcon Kind="CodeBraces" Foreground="#4EC9B0" Width="18" Height="18" Margin="0,0,8,0"/>
                    <TextBlock Text="OS Dev IDE" Foreground="#CCCCCC" FontSize="13" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" WindowChrome.IsHitTestVisibleInChrome="True">
                    <Button Click="MinimizeWindow_Click" Style="{StaticResource ModernButton}" Width="46" Height="35" Padding="0">
                        <materialDesign:PackIcon Kind="WindowMinimize" Foreground="#CCCCCC" Width="16" Height="16"/>
                    </Button>
                    <Button Click="MaximizeWindow_Click" Style="{StaticResource ModernButton}" Width="46" Height="35" Padding="0">
                        <materialDesign:PackIcon Kind="WindowMaximize" Foreground="#CCCCCC" Width="16" Height="16"/>
                    </Button>
                    <Button Click="CloseWindow_Click" Width="46" Height="35" Padding="0" Background="Transparent" BorderThickness="0" Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="border" Background="{TemplateBinding Background}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="border" Property="Background" Value="#E81123"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                        <materialDesign:PackIcon Kind="Close" Foreground="#CCCCCC" Width="16" Height="16"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Menu Bar (like Visual Studio) -->
        <Border DockPanel.Dock="Top" Height="24" Background="#2D2D30" BorderThickness="0,0,0,1" BorderBrush="#3F3F46">
            <StackPanel Orientation="Horizontal" Margin="12,0">
                <Button Click="NewProject_Click" Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="FolderPlusOutline" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="New Project" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>

                <Button Click="OpenProject_Click" Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="FolderOpenOutline" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Open Project" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>

                <Rectangle Width="1" Height="16" Fill="#3F3F46" Margin="8,0"/>

                <Button Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="FileDocumentOutline" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="View" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>

                <Button Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand" Click="SearchFiles_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="Magnify" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Search" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>

                <Button Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand" Click="Extensions_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ViewGrid" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Extensions" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>

                <Button Background="Transparent" BorderThickness="0" Padding="8,4" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="Cog" Foreground="#CCCCCC" Width="14" Height="14" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Tools" Foreground="#CCCCCC" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>

        <!-- Sidebar Explorer -->
        <Border DockPanel.Dock="Left" Width="280" Background="{StaticResource VSCSideBarBg}" BorderThickness="0,0,1,0" BorderBrush="#3F3F46">
            <Grid>
                <Border Background="{StaticResource HeaderBg}" Height="30" VerticalAlignment="Top">
                    <Grid VerticalAlignment="Center" Margin="12,0">
                        <TextBlock Text="EXPLORER" Foreground="#858585" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Style="{StaticResource ModernButton}" Padding="4" Click="AddFile_Click" ToolTip="New File">
                                <materialDesign:PackIcon Kind="FilePlus" Foreground="#858585" Width="16" Height="16"/>
                            </Button>
                            <Button Style="{StaticResource ModernButton}" Padding="4" Click="AddFolder_Click" ToolTip="New Folder" Margin="4,0,0,0">
                                <materialDesign:PackIcon Kind="FolderPlus" Foreground="#858585" Width="16" Height="16"/>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <TreeView x:Name="FileTree" Margin="0,30,0,0" Background="Transparent" BorderThickness="0" Padding="0,8,0,0" SelectedItemChanged="FileTree_SelectedItemChanged">
                    <TreeView.Resources>
                        <Style TargetType="TreeViewItem">
                            <Setter Property="Foreground" Value="#CCCCCC"/>
                            <Setter Property="FontSize" Value="13"/>
                            <Setter Property="FontFamily" Value="Segoe UI"/>
                            <Setter Property="Padding" Value="2,3"/>
                            <Setter Property="IsExpanded" Value="False"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TreeViewItem">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <Border x:Name="ItemBorder" Grid.Row="0" Background="Transparent" Padding="4,3">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>

                                                    <ToggleButton x:Name="Expander" Grid.Column="0" 
                                                                  IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}" 
                                                                  ClickMode="Press" 
                                                                  Background="Transparent" 
                                                                  BorderThickness="0" 
                                                                  Padding="0" 
                                                                  Margin="0,0,4,0"
                                                                  Focusable="False">
                                                        <ToggleButton.Style>
                                                            <Style TargetType="ToggleButton">
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="ToggleButton">
                                                                            <Grid Background="Transparent" Width="14" Height="14">
                                                                                <materialDesign:PackIcon x:Name="Arrow" Kind="ChevronRight" Foreground="#858585" Width="14" Height="14" VerticalAlignment="Center"/>
                                                                            </Grid>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsChecked" Value="True">
                                                                                    <Setter TargetName="Arrow" Property="Kind" Value="ChevronDown"/>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Style>
                                                        </ToggleButton.Style>
                                                    </ToggleButton>

                                                    <ContentPresenter Grid.Column="1" Content="{TemplateBinding Header}" VerticalAlignment="Center"/>
                                                </Grid>
                                            </Border>

                                            <ItemsPresenter x:Name="ItemsHost" Grid.Row="1" Margin="18,0,0,0" Visibility="Collapsed"/>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="ItemBorder" Property="Background" Value="#2A2D2E"/>
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter TargetName="ItemBorder" Property="Background" Value="#37373D"/>
                                            </Trigger>
                                            <Trigger Property="IsExpanded" Value="True">
                                                <Setter TargetName="ItemsHost" Property="Visibility" Value="Visible"/>
                                            </Trigger>
                                            <Trigger Property="HasItems" Value="False">
                                                <Setter TargetName="Expander" Property="Visibility" Value="Hidden"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TreeView.Resources>
                </TreeView>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="30"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="250"/>
                <RowDefinition Height="24"/>
            </Grid.RowDefinitions>

            <!-- Toolbar with Buttons -->
            <Border Grid.Row="0" Background="#2D2D30" BorderThickness="0,0,0,0" BorderBrush="#3F3F46">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0">
                    <Button Click="CompileOnly_Click" Style="{StaticResource ModernButton}" ToolTip="Compile Only (No Run)">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Cog" Foreground="#D4D4D4" Width="16" Height="16" Margin="0,0,6,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Compile" Foreground="#D4D4D4" FontSize="13" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                        </StackPanel>
                    </Button>

                    <Button Click="BuildRun_Click" Style="{StaticResource RunButton}" ToolTip="Build and Run in QEMU" Margin="4,0,0,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="PlayCircle" Foreground="#4EC9B0" Width="18" Height="18" Margin="0,0,6,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Build and Run" Foreground="#4EC9B0" FontSize="13" VerticalAlignment="Center" FontFamily="Segoe UI" FontWeight="SemiBold"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Border>

            <!-- Tab Bar -->
            <Border Grid.Row="1" Background="#2D2D30" BorderThickness="0,1,0,1" BorderBrush="#3F3F46" Padding="0,0,0,2">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                    <StackPanel x:Name="TabPanel" Orientation="Horizontal" VerticalAlignment="Center"/>
                </ScrollViewer>
            </Border>

            <!-- Code Editor -->
            <Border Grid.Row="2" Background="#1E1E1E" BorderThickness="0,0,0,1" BorderBrush="#3F3F46">
                <avalonedit:TextEditor x:Name="CodeEditor"
                                       Background="#1E1E1E"
                                       Foreground="#D4D4D4"
                                       FontFamily="Consolas"
                                       FontSize="14"
                                       ShowLineNumbers="True"
                                       LineNumbersForeground="#858585"
                                       Padding="8,8,0,0"
                                       VerticalScrollBarVisibility="Hidden"
                                       HorizontalScrollBarVisibility="Hidden"/>
            </Border>

            <!-- Output Terminal -->
            <Border Grid.Row="3" Background="#1E1E1E" BorderThickness="0,1,0,0" BorderBrush="#3F3F46">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Background="#2D2D30" BorderThickness="0,0,0,1" BorderBrush="#3F3F46">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0">
                            <materialDesign:PackIcon Kind="ConsoleNetwork" Foreground="#858585" Width="14" Height="14" Margin="0,0,6,0"/>
                            <TextBlock Text="OUTPUT" Foreground="#858585" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                        </StackPanel>
                    </Border>

                    <ScrollViewer x:Name="OutputScroller" Grid.Row="1" Style="{StaticResource DarkScrollViewer}" Background="#1E1E1E">
                        <TextBox x:Name="OutputConsole" IsReadOnly="True"
                                 Background="Transparent"
                                 Foreground="#CCCCCC"
                                 FontFamily="Consolas"
                                 FontSize="13"
                                 Padding="12,8"
                                 BorderThickness="0"
                                 TextWrapping="Wrap"
                                 VerticalScrollBarVisibility="Disabled"
                                 TextChanged="OutputConsole_TextChanged"/>
                    </ScrollViewer>
                </Grid>
            </Border>

            <!-- Status Bar -->
            <Border Grid.Row="4" Background="{StaticResource VSCStatusBarBg}">
                <Grid>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0">
                        <materialDesign:PackIcon Kind="CheckCircle" Foreground="White" Width="14" Height="14" Margin="0,0,6,0"/>
                        <TextBlock x:Name="StatusText" Text="Ready" Foreground="White" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0">
                        <materialDesign:PackIcon Kind="FormatText" Foreground="White" Width="14" Height="14" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock Text="UTF-8" Foreground="White" FontSize="12" Margin="0,0,16,0" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                        <materialDesign:PackIcon Kind="FileCodeOutline" Foreground="White" Width="14" Height="14" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="FileTypeText" Text="C / Assembly" Foreground="White" FontSize="12" VerticalAlignment="Center" FontFamily="Segoe UI"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </DockPanel>
</Window>